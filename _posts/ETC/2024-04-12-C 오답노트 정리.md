---
title: C 오답노트 정리
description: Review notes for studying c language.
author: subeenjeon
date: 2024-04-12
categories: [ Review ]
tags: [ Review ]
pin: true
math: true
mermaid: true
#image:
#  path: /commons/devices-mockup.png
#  lqip: data:image/webp;base64,UklGRpoAAABXRUJQVlA4WAoAAAAQAAAADwAABwAAQUxQSDIAAAARL0AmbZurmr57yyIiqE8oiG0bejIYEQTgqiDA9vqnsUSI6H+oAERp2HZ65qP/VIAWAFZQOCBCAAAA8AEAnQEqEAAIAAVAfCWkAALp8sF8rgRgAP7o9FDvMCkMde9PK7euH5M1m6VWoDXf2FkP3BqV0ZYbO6NA/VFIAAAA
#  alt: Responsive rendering of Chirpy theme on multiple devices.
---


# ◼︎ C언어 포인터

2024년 4월 2일

# ◼︎ 포인터

C언어 포인터를 알고는 있으나, 정확히 숙지되지 않은 것 같아서 다시 정리 해본다.

---

## C언어 포인터와 배열

배열의 요소에 접근하는 여러 방법들이다.

```c
char  ary[100];

ary[0]       = 'a'; // 배열의 첫 번째 요소에 'a'를 저장
1[ary]       = 'b'; // 배열의 두 번째 요소에 'b'를 저장
*(ary+2)     = 'c'; // 배열의 세 번째 요소에 'c'를 저장
*(&ary[0]+3) = '\\0'; // 배열의 네 번째 요소에 NULL 문자를 저장

printf( "%s\\n", ary); // 배열에 저장된 문자열을 출력
```

### 내가 처음에 이해가 안 되었던 것은

ary[0] , arr, *arr+0, 0[ary] 등 C 언어에서 동일한 값을 표현하는 방식이었다.

---

## C언어 배열 특성

포인터를 이해하려면 변수의 주소부터 이해해야 한다.

주소를 쉽게 설명하면, **컴퓨터는 메모리의 집합체이고, 변수는 특정 메모리에 자리를 잡은 위치이며 그 위치를 주소라고 한다.**

| 인덱스 | 0 | 1 | 2 | 3 |
| --- | --- | --- | --- | --- |
| 값 | a | b | c | \0 |
| 값 | &a[0] | &a[1] | &a[2] | &a[3] |
| 주소 | 100 | 101 | 102 | 103 |

ary를 주소로만 따진다면, 다음과 같이 해석할 수 있다.

- ary[0]은 첫 번째 요소의 주소 100에 0을 더한 100
- ary[1]은 두 번째 요소의 주소 100에 1을 더한 101

---

## C언어 포인터 특성

```
char ary[] = "abc";
char *ptr = ary;
```

먼저, `char ary[] = "abc";` 라는 배열이 있다고 가정했을 때,

| 인덱스 | 0 | 1 | 2 | 3 |
| --- | --- | --- | --- | --- |
| 값 | 'a' | 'b' | 'c' | '\0' |
| 주소 | 1000 | 1001 | 1002 | 1003 |

이렇게 메모리에 저장된다.

여기서 'a', 'b', 'c', '\0'는 ary 배열의 각 원소이고, 1000, 1001, 1002, 1003은 각 원소의 메모리 주소이다.

그 다음으로, `char *ptr = ary;` 라는 포인터 변수가 있을 때 포인터 *ptr은 무엇을 가리키는가?

| 포인터 변수 | 값 (가리키는 주소) | 값(메모리 주소) |
| --- | --- | --- |
| ptr | 1000 | 999 |

이렇게 메모리에 저장된다.

여기서 ptr는 포인터 변수의 이름이고, 1000은 ptr이 가리키는 주소, 즉 ary 배열의 첫 번째 원소 'a'의 주소이다.

---

## 포인터가 가리키는 값

처음 오히려 어렵게 생각해서 더 이해가 안 갔는데, 단순히 생각했다.

- 메모리에서 주소는 숫자이므로, **포인터 변수는 단지 숫자가 들어가는 정수 변수일 뿐이다.** 포인터 변수 ptr은, ary라는 배열의 **주소값 자체를 저장하고 있는 것 뿐이다.**
- 그렇다면, ptr의 주소(자기 주소)는 999고, ptr이 가리키는 값은 1000인 것이다.
- 그리고 조금 더 생각해보자면, 포인터 변수 ptr 앞에 * 연산자를 놓으면 ptr 변수가 갖고있는 정수 값의 → 값을 구할 수가 있다.
  - *ptr 변수 값은 1000이고, 그 주소의 값을 구하면 ‘b’가된다.*

---

### 풀어서 설명하자면

- ptr의 값은 ary[0]의 주소이며, *ptr은 ary[0]의 값이다.
- ptr+2의 값은 ary[2]의 주소이며, *(ptr+2)는 ary[2]의 값이다.

아직도 포인터를 보면 조금은 생각해야 하지만, 메모리에 어떻게 할당 되는지에 대한 이해가 있으면 조금은 쉽다. 그리고 메모리를 조금 더 공부해보면 좋을 듯 하다.

---
